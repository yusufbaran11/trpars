name: TRPars Build

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: fedora:43
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Install Dependencies
      run: dnf install -y pykickstart git curl

    - name: Create Directories
      run: |
        mkdir -p /tmp/logs
        mkdir -p artifacts

    - name: Validate Kickstart
      run: ksvalidator kickstart/trpars.ks

    - name: Show Status
      run: |
        echo "Build baslatildi"
        date
        pwd

    - name: Create Test File
      run: echo "Test icerik" > artifacts/test.txt

    - name: Upload Artifacts
      uses: actions/upload-artifact@v4
      with:
        name: Test-Artifacts
        path: artifacts/
        retention-days: 30

    - name: Summary
      run: |
        echo ""
        echo "Build tamamlandi"
